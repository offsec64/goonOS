<!DOCTYPE html>
<html lang="en">

    <head>
        <title>GoonOS Alpha 1</title>
        <link rel="stylesheet" href="styles.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Racing+Sans+One&display=swap" rel="stylesheet">
    </head>

    <body>
        <div id="menubar">
            <a id="logo">GoonOS</a>
            <a class="accent-text">Alpha 1</a>
            <div class="flexspacer"></div>

        </div>

        <!-- Main Window -->
        <div id="pagestructure">
            <div id="pagelist">
                <!--Content will be automatically added according to applets.json-->
            </div>
            <iframe src="https://chatgpt.com/" class="applet"></iframe>
        </div>

        <div id="footer">
            <a>Pre-release software. Do not distribute!</a>
            <div class="flexspacer"></div>
            <a>v1 Alpha</a>
        </div>
        
    </body>





    <script>
        
        
        let jsondata;    
        fetch('applets.json')
            .then(function(u) { 
                return u.json();
            })
            .then(function(json) {
                jsondata = json;
                // ADD STUFF
                for (const [key, value] of Object.entries(jsondata["applets"])) {
                    let data = (key, value);
                    const item = document.createElement("a");
                    item.classList.add("pagelist_item");
                    
                    item.innerHTML = data["Name"];

                    item.href=data["URL"]; // Not the way to do this, have clicking load a function and pass this URL through??

                    const element = document.getElementById("pagelist");
                    element.appendChild(item);
                }
            })
            .catch(function(error) {
                console.error('Error fetching or parsing JSON:', error);
            });

    </script>

</html>